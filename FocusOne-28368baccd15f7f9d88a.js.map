{"version":3,"file":"FocusOne-28368baccd15f7f9d88a.js","mappings":"kvcAcA,EAXqB,SAACA,GACpB,IAAMC,EAA+B,oBAAXC,QAAiC,IAAIA,OAAQ,kBAOvE,OALYC,EAAAA,EAAAA,UAAQ,WAClB,OAAK,IAAQH,GACNC,EAAaD,EAAI,GAAKA,EAAI,GADP,OAEzB,CAACC,EAAYD,K,gFCFZI,EAAU,SAAC,GAAiC,IAA/BJ,EAA8B,EAA9BA,IAAKK,EAAyB,EAAzBA,SAAaC,GAAY,YACzCC,EAAMC,EAAaR,GAEzB,OACE,gBAACS,EAAA,EAAD,eACEC,gBAAe,QAAS,IAAQV,GAAOO,EAAMP,GAA9B,KACXM,GAEHD,GACC,gBAACI,EAAA,UAAD,KAAcJ,KAMtBD,EAAQO,aAAe,CACrBC,eAAgB,QAChBC,mBAAoB,UACpBC,iBAAkB,aAGpB,IAAMC,GAAkBC,EAAAA,EAAAA,aAAW,WAMhCC,GANgC,IACjCjB,EADiC,EACjCA,IACAK,EAFiC,EAEjCA,SACAO,EAHiC,EAGjCA,eACAC,EAJiC,EAIjCA,mBACGP,GAL8B,mBAOjC,gBAAC,IAAD,iBAAiBA,EAAjB,CAAwBW,IAAKA,IAC3B,gBAACb,EAAD,CACEJ,IAAKA,EACLY,eAAgBA,EAChBC,mBAAoBA,GACpBR,OAINU,EAAgBG,YAAc,kBAE9B,I,qKCrCMC,GAAYC,EAAAA,EAAAA,GAAOX,EAAAA,EAAPW,CAAH,2PAWTC,EAAU,CACd,gBAAiB,gBAAC,EAAAC,EAAD,CAAatB,IAAI,QAAQuB,IAAI,MAA7B,sBACjB,mBAAoB,gBAAC,EAAAD,EAAD,CAAatB,IAAI,WAAWuB,IAAI,OAAhC,sBACpB,sBAAuB,gBAAC,EAAAD,EAAD,CAAatB,IAAI,cAAcuB,IAAI,KAAnC,uBAsGzB,EAnGa,SAAC,GAaR,EAZJC,KAYI,EAXJxB,IAWK,IAVLyB,EAUI,EAVJA,SACAC,EASI,EATJA,UACAC,EAQI,EARJA,MACAC,EAOI,EAPJA,UACAC,EAMI,EANJA,KACAC,EAKI,EALJA,UACAC,EAII,EAJJA,UACAC,EAGI,EAHJA,KACAC,EAEI,EAFJA,IACG3B,GACC,YACJ,GAA0B4B,EAAAA,EAAAA,YAAnBC,EAAP,KAAcC,EAAd,MAQAC,EAAAA,EAAAA,YAAU,WACLP,GAAaD,IACdO,GAAS,GACTE,YAAW,WACTF,GAAS,GACTL,GAAU,KACT,QAEJ,CAACF,EAAMC,IACV,OAAoCS,EAAAA,EAAAA,KAA7BtB,EAAP,KAAqBuB,EAArB,KAAcb,MACd,OACE,gBAACR,EAAD,eACEF,IAAKA,EACLU,MAAOA,IAASc,EAAAA,EAAAA,IAAW,MAAO,SAClCC,MAAO,CAAEV,KAAAA,EAAMC,IAAAA,GACfU,OAAO,WACHrC,GAEJ,gBAACG,EAAA,EAAD,CACEmC,UAAU,OACVC,UAAWV,GAAS,kBACpBW,SAAS,WAET,gBAACrC,EAAA,EAAD,CAAKsC,QAAS,kBAAMX,GAAUD,KAC5B,gBAAC1B,EAAA,WAAD,CACEuC,OAAQ,EACRC,WAAW,WACXJ,UAAU,kCAEV,gBAAC,EAAAvB,EAAD,CACEtB,IAAI,cACJuB,IAAI,QAFN,uBAKF,gBAACd,EAAA,YAAD,CACEkB,MAAM,MACNqB,OAAQ,EACRE,UAAU,SACVL,UAAU,wCACVM,UAAUV,EAAAA,EAAAA,IAAW,UAAcD,GAAab,EAAQ,GAAK,MAAzC,MACpByB,MAAM,SAEL1B,IAGL,gBAACjB,EAAA,EAAD,CACE4C,SAAS,WACTpB,IAAI,KACJD,KAAK,KACLL,MAAM,OACN2B,OAAO,OACPT,UAAU,kBACVE,QAAS,kBAAMX,GAAUD,IACzBgB,UAAUV,EAAAA,EAAAA,IAAW,UAAcD,EAAY,IAA3B,OAEpB,gBAAC/B,EAAA,EAAD,CACE4C,SAAS,WACT1B,MAAM,OACNM,IAAI,MACJD,KAAK,MACLa,UAAU,yBAETxB,EAAQO,IAEX,gBAACnB,EAAA,YAAD,CACEkB,MAAM,MACNuB,UAAU,SACVE,MAAOxB,GAENH,O,oBCxGA8B,EAAU,SAACC,GAAD,OAAkB,IAANA,EAAZ,KAEjBC,EAAQ,CACZ,CACEzB,KAAMuB,EAAQ,OACdtB,IAAKsB,EAAQ,IAAM,KACnB7B,UAAW,MACXD,SACE,gCACE,gBAACiC,EAAA,EAAD,aACA,gBAACA,EAAA,EAAD,aAGJ9B,UAAW,iBAEb,CACEI,KAAMuB,EAAQ,OACdtB,IAAKsB,EAAQ,IAAM,KACnB7B,UAAW,kBACXD,SAAU,gBAACiC,EAAA,EAAD,YACV/B,OAAOc,EAAAA,EAAAA,IAAWc,EAAQ,IAAM,KAAMA,EAAQ,GAAK,MACnD3B,UAAW,iBAEb,CACEI,KAAMuB,EAAQ,QACdtB,IAAKsB,GAAQ,KACb7B,UAAW,MACXD,SACE,gCACE,gBAACiC,EAAA,EAAD,aACA,gBAACA,EAAA,EAAD,YAGJ9B,UAAW,oBAEb,CACEI,KAAMuB,EAAQ,QACdtB,IAAKsB,EAAQ,IAAM,KACnB7B,UAAW,MACXD,SACE,gCACE,gBAACiC,EAAA,EAAD,aACA,gBAACA,EAAA,EAAD,YAGJ9B,UAAW,oBAEb,CACEI,KAAMuB,EAAQ,OACdtB,IAAKsB,EAAQ,IAAM,KACnB7B,UAAW,MACXD,SACE,gCACE,gBAACiC,EAAA,EAAD,aACA,gBAACA,EAAA,EAAD,YAGJ9B,UAAW,oBAEb,CACEI,KAAMuB,EAAQ,QACdtB,IAAKsB,EAAQ,KACb7B,UAAW,MACXD,SACE,gCACE,gBAACiC,EAAA,EAAD,aACA,gBAACA,EAAA,EAAD,aAGJ9B,UAAW,iBAEb,CACEI,KAAMuB,EAAQ,IACdtB,IAAKsB,EAAQ,IAAM,KACnB7B,UAAW,MACXD,SACE,gCACE,gBAACiC,EAAA,EAAD,aACA,gBAACA,EAAA,EAAD,aAGJ9B,UAAW,iBAEb,CACEI,KAAMuB,EAAQ,OACdtB,IAAKsB,EAAQ,IAAM,KACnB7B,UAAW,MACXD,SACE,gCACE,gBAACiC,EAAA,EAAD,aACA,gBAACA,EAAA,EAAD,aAGJ9B,UAAW,iBAEb,CACEI,KAAMuB,EAAQ,QACdtB,IAAKsB,EAAQ,IAAM,KACnB7B,UAAW,MACXD,SACE,gCACE,gBAACiC,EAAA,EAAD,aACA,gBAACA,EAAA,EAAD,YAGJ9B,UAAW,oBAEb,CACEI,KAAMuB,EAAQ,OACdtB,IAAKsB,EAAQ,IAAM,KACnB7B,UAAW,MACXD,SACE,gCACE,gBAACiC,EAAA,EAAD,aACA,gBAACA,EAAA,EAAD,cAGJ9B,UAAW,wBAyDf,EArDiB,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAClB,GAA+BK,EAAAA,EAAAA,WAAS,GAAjCJ,EAAP,KAAkBC,EAAlB,KACA,OACE,gBAAC4B,EAAA,EAAD,CACEC,IAAInB,EAAAA,EAAAA,IAAW,EAAG,KAAM,OACxBoB,eAAepB,EAAAA,EAAAA,IAAW,SAAU,KAAM,OAC1CqB,WAAW,SACXC,WAAW,oBACXjB,SAAS,UAET,gBAACrC,EAAA,EAAD,CAAKkB,OAAOc,EAAAA,EAAAA,IAAW,OAAQ,MAAO,QACpC,gBAAC,KAAD,CAAOuB,SAAS,UACd,gBAACC,EAAA,EAAD,CACEC,IAAK,gBAAC,EAAA5C,EAAD,CAAatB,IAAI,YAAYuB,IAAI,UAAjC,qBACL4C,MAAM,MACNC,KAAK,UACLvC,KAAMA,KAGV,gBAAC,KAAD,CAAOwC,mBAAmB,UACxB,gBAACJ,EAAA,EAAD,CACEC,IAAK,gBAAC,EAAA5C,EAAD,CAAatB,IAAI,iBAAiBuB,IAAI,UAAtC,sBACL4C,MAAM,MACNC,KAAK,UACLvC,KAAMA,MAIZ,gBAACpB,EAAA,EAAD,CAAK6D,IAAI7B,EAAAA,EAAAA,IAAW,MAAO,GAAI8B,IAAI9B,EAAAA,EAAAA,IAAW,MAAO,OAAQd,OAAOc,EAAAA,EAAAA,IAAW,OAAQ,KAAM,QAC3F,gBAAChC,EAAA,EAAD,CAAKyC,WAAWT,EAAAA,EAAAA,IAAW,SAAU,KAAM,SACzC,gBAACiB,EAAA,OAAD,CACEN,MAAM,eACND,UAAUV,EAAAA,EAAAA,IAAW,UAAW,SAChC+B,eAAe/B,EAAAA,EAAAA,IAAW,WAAY,YAHxC,YAKA,gBAACiB,EAAA,EAAD,CAAMN,MAAM,kBAAkBD,UAAUV,EAAAA,EAAAA,IAAW,MAAO,WAA1D,oBAEF,gBAAChC,EAAA,EAAD,CAAKmD,IAAInB,EAAAA,EAAAA,IAAW,QAAS,OAAQgC,IAAIhC,EAAAA,EAAAA,IAAW,OAAQ,KAAM,GAAIiC,IAAIjC,EAAAA,EAAAA,IAAW,EAAG,KAAM,QAC5F,gBAAChC,EAAA,EAAD,CAAK4C,SAAS,YACZ,gBAAC,EAAA/B,EAAD,CAAatB,IAAI,UAAUuB,IAAI,OAA/B,sBACCkC,EAAMkB,KAAI,SAACC,EAAGC,GAAJ,OACT,gBAAC,EAAD,eAAMhD,KAAMA,EAAME,UAAWA,EAAWD,UAAWA,GAAe8C,EAAlE,CAAqEE,IAAKD,UAIhF,gBAACE,EAAA,EAAD,CAAQC,YAAY,eAAeC,IAAIxC,EAAAA,EAAAA,IAAW,MAAO,QAAzD","sources":["webpack://styled-gatsby-starter/./src/components/utils/useWebpImage.js","webpack://styled-gatsby-starter/./src/components/BackgroundImage.js","webpack://styled-gatsby-starter/./src/containers/HomePage/FocusOne/Card.js","webpack://styled-gatsby-starter/./src/containers/HomePage/FocusOne/index.js"],"sourcesContent":["import { useMemo } from 'react';\r\nimport { get, isArray } from 'lodash'\r\n\r\nconst useWebpImage = (src) => {\r\n  const canUseWebp = typeof window === 'undefined' ? false : get(window, 'Modernizr.webp')\r\n\r\n  const pic = useMemo(() => {\r\n    if (!isArray(src)) return null\r\n    return canUseWebp ? src[0] : src[1];\r\n  }, [canUseWebp, src])\r\n\r\n  return pic\r\n}\r\n\r\nexport default useWebpImage\r\n","import React, { forwardRef } from 'react';\nimport { isArray } from 'lodash'\nimport { AspectRatio } from '@chakra-ui/react';\n\nimport Box from './Box'\nimport useWebpImage from './utils/useWebpImage';\n\nconst BGImage = ({ src, children, ...props }) => {\n  const pic = useWebpImage(src)\n\n  return (\n    <Box\n      backgroundImage={`url(${isArray(src) ? pic : src})`}\n      {...props}\n    >\n      {children && (\n        <Box.FullAbs>{children}</Box.FullAbs>\n      )}\n    </Box>\n  )\n}\n\nBGImage.defaultProps = {\n  backgroundSize: 'cover',\n  backgroundPosition: '50% 50%',\n  backgroundRepeat: 'no-repeat',\n};\n\nconst BackgroundImage = forwardRef(({\n  src,\n  children,\n  backgroundSize,\n  backgroundPosition,\n  ...props\n}, ref) => (\n  <AspectRatio {...props} ref={ref}>\n    <BGImage\n      src={src}\n      backgroundSize={backgroundSize}\n      backgroundPosition={backgroundPosition}\n    >{children}</BGImage>\n  </AspectRatio>\n));\n\nBackgroundImage.displayName = 'BackgroundImage';\n\nexport default BackgroundImage\n","import React, { useEffect, useState } from 'react'\r\nimport styled from '@emotion/styled';\r\nimport { useMeasure } from \"react-use\"\r\n\r\nimport Box from '../../../components/Box'\r\nimport { responsive } from '../../../components/ThemeProvider/theme';\r\n\r\nimport { StaticImage } from 'gatsby-plugin-image';\r\n\r\nconst StyledBox = styled(Box)`\r\n  position: absolute;\r\n  display: inline-block;\r\n  perspective: 1000px;\r\n  .card {\r\n    position: relative;\r\n    transition-duration: 0.4s;\r\n    transition-timing-function: ease-in-out;\r\n    transform-style: preserve-3d;\r\n  }\r\n`\r\nconst backImg = {\r\n  'custom.cGreen': <StaticImage src=\"c.png\" alt=\"碳中和\"/>,\r\n  'custom.zeroGreen': <StaticImage src=\"zero.png\" alt=\"氣候中和\"/>,\r\n  'custom.weatherGreen': <StaticImage src=\"weather.png\" alt=\"淨零\"/>,\r\n}\r\n\r\nconst Card = ({\r\n  name,\r\n  src,\r\n  backText,\r\n  frontText,\r\n  width,\r\n  backColor,\r\n  show,\r\n  firstTime,\r\n  setBrowse,\r\n  left,\r\n  top,\r\n  ...props\r\n}) => {\r\n  const [state, setstate] = useState()\r\n  // const [transition, setTransition] = useState()\r\n  // const rotate = useContext(rotateContext)\r\n  // useEffect(() => {\r\n  //   if (state) {\r\n  //     setTimeout(() => setTransition(state), 200)\r\n  //   } else setTimeout(() => setTransition(state), 300)\r\n  // }, [state])\r\n  useEffect(() => {\r\n    if(firstTime && show) {\r\n      setstate(true)\r\n      setTimeout(() => {\r\n        setstate(false)\r\n        setBrowse(false)\r\n      }, 2000);\r\n    }\r\n  }, [show, firstTime])\r\n  const [ref, { width: cardWidth }] = useMeasure()\r\n  return (\r\n    <StyledBox\r\n      ref={ref}\r\n      width={width || responsive('15%', '12.5%')}\r\n      style={{ left, top }}\r\n      cursor=\"pointer\"\r\n      {...props}\r\n    >\r\n      <Box\r\n        className=\"card\"\r\n        transform={state && 'rotateY(180deg)'}\r\n        overflow=\"visible\"\r\n      >\r\n        <Box onClick={() => setstate(!state)}>\r\n          <Box.Relative\r\n            zIndex={3}\r\n            transition=\"all 0.3s\"\r\n            transform=\"rotate(180deg) translateZ(1px)\"\r\n          >\r\n            <StaticImage\r\n              src=\"../left.png\"\r\n              alt=\"綠色的圓圈\"\r\n            />\r\n          </Box.Relative>\r\n          <Box.AbsCenter\r\n            width=\"60%\"\r\n            zIndex={4}\r\n            textAlign=\"center\"\r\n            transform=\"translate(-50%, -50%) translateZ(1px)\"\r\n            fontSize={responsive('0.625em', `${cardWidth / (width ? 12 : 7.25)}px`)}\r\n            color=\"white\"\r\n          >\r\n            {frontText}\r\n          </Box.AbsCenter>\r\n        </Box>\r\n        <Box\r\n          position=\"absolute\"\r\n          top=\"0%\"\r\n          left=\"0%\"\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          transform=\"rotateY(180deg)\"\r\n          onClick={() => setstate(!state)}\r\n          fontSize={responsive('0.625em', `${cardWidth / 8.5}px`)}\r\n        >\r\n          <Box\r\n            position=\"absolute\"\r\n            width=\"125%\"\r\n            top=\"50%\"\r\n            left=\"50%\"\r\n            transform=\"translate(-50%, -50%)\"\r\n          >\r\n            {backImg[backColor]}\r\n          </Box>\r\n          <Box.AbsCenter\r\n            width=\"75%\"\r\n            textAlign=\"center\"\r\n            color={backColor}\r\n          >\r\n            {backText}\r\n          </Box.AbsCenter>\r\n        </Box>\r\n      </Box>\r\n    </StyledBox>\r\n  )\r\n}\r\n\r\nexport default Card;\r\n","import React, { useState } from 'react'\nimport { StaticImage } from \"gatsby-plugin-image\"\n\nimport BackgroundImage from '../../../components/BackgroundImage'\nimport Box from '../../../components/Box'\nimport Flex from '../../../components/Flex'\nimport Text from '../../../components/Text'\nimport { Media, responsive } from '../../../components/ThemeProvider/theme'\n\nimport Card from './Card'\nimport UpCircle from '../../../components/UpCircle'\nimport Source from '../../../components/Source'\n\nexport const percent = (num) => `${num * 100}%`\n\nconst cards = [\n  {\n    left: percent(228 / 1600),\n    top: percent(240 / 950),\n    frontText: '美 國',\n    backText: (\n      <>\n        <Text>2050</Text>\n        <Text>碳中和</Text>\n      </>\n    ),\n    backColor: 'custom.cGreen'\n  },\n  {\n    left: percent(204 / 1600),\n    top: percent(600 / 950),\n    frontText: '巴西、阿根廷、哥倫比亞、巴拿馬',\n    backText: <Text>碳中和</Text>,\n    width: responsive(percent(104 / 343), percent(74 / 343)),\n    backColor: 'custom.cGreen'\n  },\n  {\n    left: percent(538 / 1600),\n    top: percent(-38 / 950),\n    frontText: '愛爾蘭',\n    backText: (\n      <>\n        <Text>2050</Text>\n        <Text>淨零</Text>\n      </>\n    ),\n    backColor: 'custom.zeroGreen'\n  },\n  {\n    left: percent(538 / 1600),\n    top: percent(326 / 950),\n    frontText: '西班牙',\n    backText: (\n      <>\n        <Text>2050</Text>\n        <Text>淨零</Text>\n      </>\n    ),\n    backColor: 'custom.zeroGreen'\n  },\n  {\n    left: percent(756 / 1600),\n    top: percent(184 / 950),\n    frontText: '匈牙利',\n    backText: (\n      <>\n        <Text>2050</Text>\n        <Text>淨零</Text>\n      </>\n    ),\n    backColor: 'custom.zeroGreen'\n  },\n  {\n    left: percent(774 / 1600),\n    top: percent(646 / 950),\n    frontText: '南 非',\n    backText: (\n      <>\n        <Text>2050</Text>\n        <Text>碳中和</Text>\n      </>\n    ),\n    backColor: 'custom.cGreen'\n  },\n  {\n    left: percent(960 / 1600),\n    top: percent(338 / 950),\n    frontText: '中 國',\n    backText: (\n      <>\n        <Text>2060</Text>\n        <Text>碳中和</Text>\n      </>\n    ),\n    backColor: 'custom.cGreen'\n  },\n  {\n    left: percent(1124 / 1600),\n    top: percent(126 / 950),\n    frontText: '韓 國',\n    backText: (\n      <>\n        <Text>2050</Text>\n        <Text>碳中和</Text>\n      </>\n    ),\n    backColor: 'custom.cGreen'\n  },\n  {\n    left: percent(1222 / 1600),\n    top: percent(324 / 950),\n    frontText: '日 本',\n    backText: (\n      <>\n        <Text>2050</Text>\n        <Text>淨零</Text>\n      </>\n    ),\n    backColor: 'custom.zeroGreen'\n  },\n  {\n    left: percent(1156 / 1600),\n    top: percent(625 / 950),\n    frontText: '澳 洲',\n    backText: (\n      <>\n        <Text>2050</Text>\n        <Text>氣候中和</Text>\n      </>\n    ),\n    backColor: 'custom.weatherGreen'\n  },\n]\n\nconst FocusOne = ({ show }) => {\n  const [firstTime, setBrowse] = useState(true)\n  return (\n    <Flex\n      pt={responsive(0, null, '2em')}\n      flexDirection={responsive('column', null, 'row')}\n      alignItems=\"center\"\n      background=\"custom.lightGreen\"\n      overflow=\"hidden\"\n    >\n      <Box width={responsive('100%', '50%' ,'26%')}>\n        <Media lessThan=\"laptop\">\n          <UpCircle\n            img={<StaticImage src=\"green.png\" alt=\"ESG綠色永續\" />}\n            title=\"焦點1\"\n            text=\"ESG綠色永續\"\n            show={show}\n          />\n        </Media>\n        <Media greaterThanOrEqual=\"laptop\">\n          <UpCircle\n            img={<StaticImage src=\"green_desk.png\" alt=\"ESG綠色永續\" />}\n            title=\"焦點1\"\n            text=\"ESG綠色永續\"\n            show={show}\n          />\n        </Media>\n      </Box>\n      <Box pl={responsive('1em', 0)} pr={responsive('1em', '4em')} width={responsive('100%', null, '74%')}>\n        <Box textAlign={responsive('center', null, 'left')}>\n          <Text.Bold\n            color=\"custom.green\"\n            fontSize={responsive('1.125em', '1.5em')}\n            letterSpacing={responsive('0.125rem', '0.25rem')}\n          >綠色浪潮襲捲全球</Text.Bold>\n          <Text color=\"custom.darkGray\" fontSize={responsive('1em', '1.25em')}>ESG、綠色、永續已成市場主流</Text>\n        </Box>\n        <Box pt={responsive('1.5em', '1em')} mx={responsive('-10%', null, 0)} px={responsive(0, null, '10%')}>\n          <Box position=\"relative\">\n            <StaticImage src=\"map.png\" alt=\"世界地圖\" />\n            {cards.map((d, i) => (\n              <Card show={show} setBrowse={setBrowse} firstTime={firstTime} {...d} key={i} />\n            ))}\n          </Box>\n        </Box>\n        <Source borderColor=\"custom.green\" mt={responsive('8em', '1em')}>\n          Amundi，凱基投信整理。資料日期：2020/12/31。\n        </Source>\n      </Box>\n    </Flex>\n  )\n}\n\nexport default FocusOne\n"],"names":["src","canUseWebp","window","useMemo","BGImage","children","props","pic","useWebpImage","Box","backgroundImage","defaultProps","backgroundSize","backgroundPosition","backgroundRepeat","BackgroundImage","forwardRef","ref","displayName","StyledBox","styled","backImg","S","alt","name","backText","frontText","width","backColor","show","firstTime","setBrowse","left","top","useState","state","setstate","useEffect","setTimeout","useMeasure","cardWidth","responsive","style","cursor","className","transform","overflow","onClick","zIndex","transition","textAlign","fontSize","color","position","height","percent","num","cards","Text","Flex","pt","flexDirection","alignItems","background","lessThan","UpCircle","img","title","text","greaterThanOrEqual","pl","pr","letterSpacing","mx","px","map","d","i","key","Source","borderColor","mt"],"sourceRoot":""}